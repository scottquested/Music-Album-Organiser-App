(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Hg7B:
/*!*******************************!*\
  !*** ./src/js/main-script.js ***!
  \*******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){!function(e,t){const a=e.querySelector(".js-results"),s=e.querySelector(".js-modal-background"),i=e.querySelector(".js-modal"),l=e.querySelector(".js-modal-form"),n=e.querySelector(".js-modal-album-add"),r=e.querySelector(".js-modal-album-update"),c=e.querySelector(".js-modal-album-delete"),o=e.querySelector(".js-modal-title"),d=e.querySelector(".js-pagination-1"),m=e.querySelector(".js-pagination-2"),u=e.querySelector(".js-search"),f=e.querySelector(".js-show-fav"),v=e.querySelector(".js-album-fav-edit");let b=[],h=0;const L=async e=>{const t=await fetch(e);return await t.json()},p=(e,t)=>{const a={id:t,album_title:e.album_title,artist:e.artist,condition:e.condition,year:e.year,fav:!1};b.push(a)},g=e=>`<article class="card h-100 js-album-card" data-id="${e.id}">\n                <div class="card-body">\n                    <h1 class="h5 card-body-title">${e.album_title}</h1>\n                    <h2 class="h6 mb-4 card-body-sub">${e.artist.name}</h2>\n                    <p class="card-text"><i class="fa fa-calendar"></i> ${e.year}</p>\n                    <p class="card-text">Condition: ${S(e.condition)}</p>\n                </div>\n                <div class="card-footer">\n                    <button class="btn btn-sm btn-dark js-album-edit">Edit Album</button>\n                    <i class="fa ${e.fav?"fa-heart":"fa-heart-o"} pull-right mt-2 js-album-fav"></i>\n                </div>\n            </article>`,y=t=>{const s=e.createElement("div");s.classList.add("col-sm-12","col-md-6","col-lg-4","mb-4"),s.innerHTML=g(t),a.appendChild(s)},j=()=>{s.style.display="block",i.style.display="block"},q=()=>{s.style.display="none",i.style.display="none"},S=e=>{let t=0,a="";switch(e){case"poor":t=2;break;case"fair":t=3;break;case"very_good":t=4;break;case"mint":t=5;break;default:t=1}for(let e=0;e<t;e++)a+='<i class="fa fa-star"></i>';return a},w=(e="")=>{"active"===e?(f.classList.add("active"),f.querySelector("i").classList.add("fa-heart"),f.querySelector("i").classList.remove("fa-heart-o")):(f.classList.remove("active"),f.querySelector("i").classList.add("fa-heart-o"),f.querySelector("i").classList.remove("fa-heart"))},x=()=>{if(d.closest("li").classList.contains("active")){a.innerHTML="";for(let e=0;e<25;e++)y(b[e])}else{a.innerHTML="";for(let e=25;e<b.length;e++)y(b[e])}},M=e=>{const t=i.getAttribute("data-id"),a=b.map(e=>e.id).indexOf(parseInt(t));if("edit"===e){b[a]={id:parseInt(t),album_title:l.elements.albumTitle.value,artist:{name:l.elements.artist.value,id:b[a].artist.id},year:l.elements.year.value,condition:l.elements.condition.value,fav:b[a].fav};b.filter(e=>e.artist.id===b[a].artist.id).map(e=>e.id).map((e,t)=>{b[e].artist.name=l.elements.artist.value})}else"delete"===e&&b.splice(a,1);w(),u.value="",x(),q()};L("https://gist.githubusercontent.com/seanders/df38a92ffc4e8c56962e51b6e96e188f/raw/b032669142b7b57ede3496dffee5b7c16b8071e1/page1.json").then(e=>{const t=e.results.length;e.results.map(e=>{p(e,h),h++}),L(e.nextPage).then(e=>{e.results.map(e=>{p(e,h),h++})}).then(()=>{for(let e=0;e<t;e++)y(b[e])})}),e.body.addEventListener("click",t=>{if(t.preventDefault(),t.target.classList.contains("js-album-edit")){const e=t.target.closest(".js-album-card").getAttribute("data-id"),a=b.map(e=>e.id).indexOf(parseInt(e));c.classList.remove("d-none"),r.classList.remove("d-none"),n.classList.add("d-none"),i.setAttribute("data-id",e),o.innerHTML="Edit album",j(),l.elements.albumTitle.value=b[a].album_title,l.elements.artist.value=b[a].artist.name,l.elements.year.value=b[a].year,l.elements.condition.value=b[a].condition,l.elements.albumId.value=b[a].id,b[a].fav?(v.classList.remove("fa-heart-o"),v.classList.add("fa-heart")):(v.classList.add("fa-heart-o"),v.classList.remove("fa-heart"))}if(t.target.classList.contains("js-modal-close")&&q(),t.target.classList.contains("js-pagination-1")&&(w(),m.closest("li").classList.remove("active"),t.target.closest("li").classList.add("active"),x()),t.target.classList.contains("js-pagination-2")&&(w(),d.closest("li").classList.remove("active"),t.target.closest("li").classList.add("active"),x()),t.target.classList.contains("js-modal-album-update")&&M("edit"),t.target.classList.contains("js-modal-album-delete")&&M("delete"),t.target.classList.contains("js-add-new-album")&&(c.classList.add("d-none"),r.classList.add("d-none"),n.classList.remove("d-none"),o.innerHTML="Add new album",l.reset(),j()),t.target.classList.contains("js-modal-album-add")){const t=Math.max.apply(Math,b.map(e=>e.id)),a=Math.max.apply(Math,b.map(e=>e.artist.id)),s=b.map(e=>e.artist.name).indexOf(l.elements.artist.value),i={id:t+1,album_title:l.elements.albumTitle.value,artist:{name:l.elements.artist.value,id:s>=0?b[s].artist.id:a+1},year:l.elements.year.value,condition:l.elements.condition.value,fav:e.querySelector(".js-album-fav-edit").classList.contains("fa-heart")};b.push(i),x(),q()}if(t.target.classList.contains("js-album-fav")){const i=t.target.closest(".js-album-card").getAttribute("data-id"),l=b.map(e=>e.id).indexOf(parseInt(i));b[l].fav=t.target.classList.contains("fa-heart-o"),a.classList.contains("is-searching")?(s=b[l],h=i,e.querySelector(`.js-album-card[data-id="${h}"]`).parentElement.innerHTML=g(s)):f.classList.contains("active")?e.querySelector(`[data-id="${i}"]`).parentElement.remove():x()}var s,h;if(t.target.classList.contains("js-album-fav-edit")){const e=t.target.closest(".js-modal").getAttribute("data-id"),a=b.map(e=>e.id).indexOf(parseInt(e));t.target.classList.contains("fa-heart-o")?(t.target.classList.remove("fa-heart-o"),t.target.classList.add("fa-heart"),a>-1&&(b[a].fav=!0)):(t.target.classList.remove("fa-heart"),t.target.classList.add("fa-heart-o"),a>-1&&(b[a].fav=!1))}if(t.target.classList.contains("js-show-fav"))if(t.target.classList.contains("active"))w(),x();else{w("active"),u.value="",a.classList.remove("is-searching");const e=b.filter(e=>{if(e.fav)return b.indexOf(e)>-1});a.innerHTML="",e.length>0?e.map(e=>{y(e)}):a.innerHTML='<div class="col-md-12"><h2>You have no favorites at the moment</h2></div>'}}),u.addEventListener("keyup",e=>{if(e.target.value.length<2)return a.classList.remove("is-searching"),w(),void x();a.classList.add("is-searching"),w();const t=new RegExp(e.target.value,"i"),s=b.filter(e=>t.test(e.album_title)||t.test(e.artist.name)?b.indexOf(e):void 0);a.innerHTML="",s.map(e=>{y(e)})})}(document,window)},jrKh:
/*!*********************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-1!./node_modules/css-loader/dist/cjs.js??ref--5-2!./node_modules/sass-loader/dist/cjs.js??ref--5-3!./src/scss/main.scss ***!
  \*********************************************************************************************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,a){},sQfG:
/*!****************************!*\
  !*** ./src/scss/main.scss ***!
  \****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,a){var s=a(/*! ../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */"LboF"),i=a(/*! !../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-1!../../node_modules/css-loader/dist/cjs.js??ref--5-2!../../node_modules/sass-loader/dist/cjs.js??ref--5-3!./main.scss */"jrKh");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var l={insert:"head",singleton:!1};s(i,l);e.exports=i.locals||{}},tjUo:
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is an entry point */function(e,t,a){"use strict";a.r(t);a(/*! bootstrap-css-only/css/bootstrap.min.css */"yr8s"),a(/*! ./scss/main.scss */"sQfG"),a(/*! ./js/main-script */"Hg7B")}},[["tjUo",1,2]]]);