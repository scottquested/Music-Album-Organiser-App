(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Hg7B:function(t,e){!function(t,e){const a=t.querySelector(".js-results"),s=t.querySelector(".js-modal-background"),l=t.querySelector(".js-modal"),i=t.querySelector(".js-modal-form"),n=t.querySelector(".js-modal-album-add"),o=t.querySelector(".js-modal-album-update"),d=t.querySelector(".js-modal-album-delete"),c=t.querySelector(".js-pagination-1"),r=t.querySelector(".js-pagination-2");let m=[],u=0;const b=async t=>{const e=await fetch(t);return await e.json()},p=(t,e)=>{const a={id:e,album_title:t.album_title,artist:t.artist,condition:t.condition,year:t.year,fav:!1};m.push(a)},v=e=>{const s=t.createElement("div");s.classList.add("col-sm-12","col-md-6","col-lg-4","mb-4"),s.innerHTML=`<article class="card h-100 js-album-card" data-id="${e.id}">\n                <div class="card-body">\n                    <h1 class="h4">${e.album_title}</h1>\n                    <h2 class="h5">${e.artist.name}</h2>\n                    <p class="card-text">${e.year}</p>\n                    <p class="card-text">${e.condition}</p>\n                </div>\n                <div class="card-footer">\n                    <button class="btn btn-sm btn-warning js-album-edit">Edit Album</button>\n                </div>\n            </article>`,a.appendChild(s)},f=()=>{s.style.display="block",l.style.display="block"},y=()=>{s.style.display="none",l.style.display="none"},g=t=>{if(1===t){a.innerHTML="";for(let t=0;t<25;t++)v(m[t])}else if(2===t){a.innerHTML="";for(let t=25;t<m.length;t++)v(m[t])}},h=t=>{const e=l.getAttribute("data-id"),a=m.map(t=>t.id).indexOf(parseInt(e));if("edit"===t){m[a]={id:parseInt(e),album_title:i.elements.albumTitle.value,artist:{name:i.elements.artist.value,id:m[a].artist.id},year:i.elements.year.value,condition:i.elements.condition.value,fav:m[a].fav};m.filter(t=>t.artist.id===m[a].artist.id).map(t=>t.id).map((t,e)=>{m[t].artist.name=i.elements.artist.value})}else"delete"===t&&m.splice(a,1);c.closest("li").classList.contains("active")?g(1):g(2),y()};b("https://gist.githubusercontent.com/seanders/df38a92ffc4e8c56962e51b6e96e188f/raw/b032669142b7b57ede3496dffee5b7c16b8071e1/page1.json").then(t=>{for(let e=0;e<t.results.length;e++)p(t.results[e],u),u++;b(t.nextPage).then(t=>{for(let e=0;e<t.results.length;e++)p(t.results[e],u),u++}).then(()=>{for(let t=0;t<25;t++)v(m[t])})}),t.body.addEventListener("click",t=>{if(t.preventDefault(),t.target.classList.contains("js-album-edit")){const e=t.target.closest(".js-album-card").getAttribute("data-id"),a=m.map(t=>t.id).indexOf(parseInt(e));d.classList.remove("d-none"),o.classList.remove("d-none"),n.classList.add("d-none"),l.setAttribute("data-id",e),f(),i.elements.albumTitle.value=m[a].album_title,i.elements.artist.value=m[a].artist.name,i.elements.year.value=m[a].year,i.elements.condition.value=m[a].condition,i.elements.albumId.value=m[a].id}if(t.target.classList.contains("js-modal-close")&&y(),t.target.classList.contains("js-pagination-1")&&(g(1),r.closest("li").classList.remove("active"),t.target.closest("li").classList.add("active")),t.target.classList.contains("js-pagination-2")&&(g(2),c.closest("li").classList.remove("active"),t.target.closest("li").classList.add("active")),t.target.classList.contains("js-modal-album-update")&&h("edit"),t.target.classList.contains("js-modal-album-delete")&&h("delete"),t.target.classList.contains("js-add-new-album")&&(d.classList.add("d-none"),o.classList.add("d-none"),n.classList.remove("d-none"),i.reset(),f()),t.target.classList.contains("js-modal-album-add")){const t=Math.max.apply(Math,m.map(t=>t.id)),e=Math.max.apply(Math,m.map(t=>t.artist.id)),a=m.map(t=>t.artist.name).indexOf(i.elements.artist.value),s={id:t+1,album_title:i.elements.albumTitle.value,artist:{name:i.elements.artist.value,id:a>=0?m[a].artist.id:e+1},year:i.elements.year.value,condition:i.elements.condition.value,fav:!1};m.push(s),c.closest("li").classList.contains("active")?g(1):g(2),y()}})}(document,window)},jrKh:function(t,e,a){},sQfG:function(t,e,a){var s=a("LboF"),l=a("jrKh");"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var i={insert:"head",singleton:!1};s(l,i);t.exports=l.locals||{}},tjUo:function(t,e,a){"use strict";a.r(e);a("yr8s"),a("sQfG"),a("Hg7B")}},[["tjUo",1,2]]]);