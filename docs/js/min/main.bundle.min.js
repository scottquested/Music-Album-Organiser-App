(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Hg7B:function(e,t){!function(e,t){const a=e.querySelector(".js-results"),s=e.querySelector(".js-modal-background"),l=e.querySelector(".js-modal"),i=e.querySelector(".js-modal-form"),n=e.querySelector(".js-modal-album-add"),o=e.querySelector(".js-modal-album-update"),r=e.querySelector(".js-modal-album-delete"),c=e.querySelector(".js-pagination-1"),d=e.querySelector(".js-pagination-2"),u=e.querySelector(".js-search");let m=[],b=0;const p=async e=>{const t=await fetch(e);return await t.json()},v=(e,t)=>{const a={id:t,album_title:e.album_title,artist:e.artist,condition:e.condition,year:e.year,fav:!1};m.push(a)},f=t=>{const s=e.createElement("div");s.classList.add("col-sm-12","col-md-6","col-lg-4","mb-4"),s.innerHTML=`<article class="card h-100 js-album-card" data-id="${t.id}">\n                <div class="card-body">\n                    <h1 class="h4">${t.album_title}</h1>\n                    <h2 class="h5">${t.artist.name}</h2>\n                    <p class="card-text">${t.year}</p>\n                    <p class="card-text">${t.condition}</p>\n                </div>\n                <div class="card-footer">\n                    <button class="btn btn-sm btn-warning js-album-edit">Edit Album</button>\n                </div>\n            </article>`,a.appendChild(s)},g=()=>{s.style.display="block",l.style.display="block"},y=()=>{s.style.display="none",l.style.display="none"},h=e=>{if(1===e){a.innerHTML="";for(let e=0;e<25;e++)f(m[e])}else if(2===e){a.innerHTML="";for(let e=25;e<m.length;e++)f(m[e])}},j=e=>{const t=l.getAttribute("data-id"),a=m.map(e=>e.id).indexOf(parseInt(t));if("edit"===e){m[a]={id:parseInt(t),album_title:i.elements.albumTitle.value,artist:{name:i.elements.artist.value,id:m[a].artist.id},year:i.elements.year.value,condition:i.elements.condition.value,fav:m[a].fav};m.filter(e=>e.artist.id===m[a].artist.id).map(e=>e.id).map((e,t)=>{m[e].artist.name=i.elements.artist.value})}else"delete"===e&&m.splice(a,1);c.closest("li").classList.contains("active")?h(1):h(2),y()};p("https://gist.githubusercontent.com/seanders/df38a92ffc4e8c56962e51b6e96e188f/raw/b032669142b7b57ede3496dffee5b7c16b8071e1/page1.json").then(e=>{for(let t=0;t<e.results.length;t++)v(e.results[t],b),b++;p(e.nextPage).then(e=>{for(let t=0;t<e.results.length;t++)v(e.results[t],b),b++}).then(()=>{for(let e=0;e<25;e++)f(m[e])})}),e.body.addEventListener("click",e=>{if(e.preventDefault(),e.target.classList.contains("js-album-edit")){const t=e.target.closest(".js-album-card").getAttribute("data-id"),a=m.map(e=>e.id).indexOf(parseInt(t));r.classList.remove("d-none"),o.classList.remove("d-none"),n.classList.add("d-none"),l.setAttribute("data-id",t),g(),i.elements.albumTitle.value=m[a].album_title,i.elements.artist.value=m[a].artist.name,i.elements.year.value=m[a].year,i.elements.condition.value=m[a].condition,i.elements.albumId.value=m[a].id}if(e.target.classList.contains("js-modal-close")&&y(),e.target.classList.contains("js-pagination-1")&&(h(1),d.closest("li").classList.remove("active"),e.target.closest("li").classList.add("active")),e.target.classList.contains("js-pagination-2")&&(h(2),c.closest("li").classList.remove("active"),e.target.closest("li").classList.add("active")),e.target.classList.contains("js-modal-album-update")&&j("edit"),e.target.classList.contains("js-modal-album-delete")&&j("delete"),e.target.classList.contains("js-add-new-album")&&(r.classList.add("d-none"),o.classList.add("d-none"),n.classList.remove("d-none"),i.reset(),g()),e.target.classList.contains("js-modal-album-add")){const e=Math.max.apply(Math,m.map(e=>e.id)),t=Math.max.apply(Math,m.map(e=>e.artist.id)),a=m.map(e=>e.artist.name).indexOf(i.elements.artist.value),s={id:e+1,album_title:i.elements.albumTitle.value,artist:{name:i.elements.artist.value,id:a>=0?m[a].artist.id:t+1},year:i.elements.year.value,condition:i.elements.condition.value,fav:!1};m.push(s),c.closest("li").classList.contains("active")?h(1):h(2),y()}}),u.addEventListener("keyup",e=>{if(e.target.value.length<3)return;console.log(e.target.value);const t=m.map(e=>e.album_title).indexOf(e.target.value),a=m.map(e=>e.artist.name).indexOf(e.target.value);console.log(t),console.log(a)})}(document,window)},jrKh:function(e,t,a){},sQfG:function(e,t,a){var s=a("LboF"),l=a("jrKh");"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var i={insert:"head",singleton:!1};s(l,i);e.exports=l.locals||{}},tjUo:function(e,t,a){"use strict";a.r(t);a("yr8s"),a("sQfG"),a("Hg7B")}},[["tjUo",1,2]]]);