(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Hg7B:function(t,e){!function(t,e){const a=t.querySelector(".js-results"),s=t.querySelector(".js-modal-background"),i=t.querySelector(".js-modal"),l=t.querySelector(".js-modal-form"),n=t.querySelector(".js-modal-album-add"),o=t.querySelector(".js-modal-album-update"),r=t.querySelector(".js-modal-album-delete"),c=t.querySelector(".js-pagination-1"),d=t.querySelector(".js-pagination-2"),u=t.querySelector(".js-search");let m=[],b=0;const p=async t=>{const e=await fetch(t);return await e.json()},v=(t,e)=>{const a={id:e,album_title:t.album_title,artist:t.artist,condition:t.condition,year:t.year,fav:!1};m.push(a)},f=e=>{const s=t.createElement("div");s.classList.add("col-sm-12","col-md-6","col-lg-4","mb-4"),s.innerHTML=`<article class="card h-100 js-album-card" data-id="${e.id}">\n                <div class="card-body">\n                    <h1 class="h4">${e.album_title}</h1>\n                    <h2 class="h5">${e.artist.name}</h2>\n                    <p class="card-text">${e.year}</p>\n                    <p class="card-text">${e.condition}</p>\n                </div>\n                <div class="card-footer">\n                    <button class="btn btn-sm btn-warning js-album-edit">Edit Album</button>\n                </div>\n            </article>`,a.appendChild(s)},g=()=>{s.style.display="block",i.style.display="block"},y=()=>{s.style.display="none",i.style.display="none"},h=t=>{if(1===t){a.innerHTML="";for(let t=0;t<25;t++)f(m[t])}else if(2===t){a.innerHTML="";for(let t=25;t<m.length;t++)f(m[t])}},L=t=>{const e=i.getAttribute("data-id"),a=m.map(t=>t.id).indexOf(parseInt(e));if("edit"===t){m[a]={id:parseInt(e),album_title:l.elements.albumTitle.value,artist:{name:l.elements.artist.value,id:m[a].artist.id},year:l.elements.year.value,condition:l.elements.condition.value,fav:m[a].fav};m.filter(t=>t.artist.id===m[a].artist.id).map(t=>t.id).map((t,e)=>{m[t].artist.name=l.elements.artist.value})}else"delete"===t&&m.splice(a,1);c.closest("li").classList.contains("active")?h(1):h(2),y()};p("https://gist.githubusercontent.com/seanders/df38a92ffc4e8c56962e51b6e96e188f/raw/b032669142b7b57ede3496dffee5b7c16b8071e1/page1.json").then(t=>{for(let e=0;e<t.results.length;e++)v(t.results[e],b),b++;p(t.nextPage).then(t=>{for(let e=0;e<t.results.length;e++)v(t.results[e],b),b++}).then(()=>{for(let t=0;t<25;t++)f(m[t])})}),t.body.addEventListener("click",t=>{if(t.preventDefault(),t.target.classList.contains("js-album-edit")){const e=t.target.closest(".js-album-card").getAttribute("data-id"),a=m.map(t=>t.id).indexOf(parseInt(e));r.classList.remove("d-none"),o.classList.remove("d-none"),n.classList.add("d-none"),i.setAttribute("data-id",e),g(),l.elements.albumTitle.value=m[a].album_title,l.elements.artist.value=m[a].artist.name,l.elements.year.value=m[a].year,l.elements.condition.value=m[a].condition,l.elements.albumId.value=m[a].id}if(t.target.classList.contains("js-modal-close")&&y(),t.target.classList.contains("js-pagination-1")&&(h(1),d.closest("li").classList.remove("active"),t.target.closest("li").classList.add("active")),t.target.classList.contains("js-pagination-2")&&(h(2),c.closest("li").classList.remove("active"),t.target.closest("li").classList.add("active")),t.target.classList.contains("js-modal-album-update")&&L("edit"),t.target.classList.contains("js-modal-album-delete")&&L("delete"),t.target.classList.contains("js-add-new-album")&&(r.classList.add("d-none"),o.classList.add("d-none"),n.classList.remove("d-none"),l.reset(),g()),t.target.classList.contains("js-modal-album-add")){const t=Math.max.apply(Math,m.map(t=>t.id)),e=Math.max.apply(Math,m.map(t=>t.artist.id)),a=m.map(t=>t.artist.name).indexOf(l.elements.artist.value),s={id:t+1,album_title:l.elements.albumTitle.value,artist:{name:l.elements.artist.value,id:a>=0?m[a].artist.id:e+1},year:l.elements.year.value,condition:l.elements.condition.value,fav:!1};m.push(s),c.closest("li").classList.contains("active")?h(1):h(2),y()}}),u.addEventListener("keyup",t=>{if(t.target.value.length<3)return void(c.closest("li").classList.contains("active")?h(1):h(2));const e=new RegExp(t.target.value,"i"),s=m.filter(t=>e.test(t.album_title)||e.test(t.artist.name)?m.indexOf(t):void 0);a.innerHTML="",s.map(t=>{f(t)})})}(document,window)},jrKh:function(t,e,a){},sQfG:function(t,e,a){var s=a("LboF"),i=a("jrKh");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var l={insert:"head",singleton:!1};s(i,l);t.exports=i.locals||{}},tjUo:function(t,e,a){"use strict";a.r(e);a("yr8s"),a("sQfG"),a("Hg7B")}},[["tjUo",1,2]]]);